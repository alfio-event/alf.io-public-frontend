<div class="page-header">
    <h2 translate="reservation-page.invoice-details"></h2>
</div>


<div [formGroup]="form">

  <div class="row">
    <div class="col-12">
      <div class="form-group">
        <label translate="invoice.type"></label>
        <div>
          <div class="custom-control custom-radio custom-control-inline">
              <input class="custom-control-input" type="radio" formControlName="addCompanyBillingDetails" [value]="false" id="invoiceTypePrivate" >
              <label class="custom-control-label radio-inline" for="invoiceTypePrivate">{{' '}}{{'invoice.type.private' | translate}}</label>
          </div>
          <div class="custom-control custom-radio custom-control-inline">
              <input class="custom-control-input" type="radio" formControlName="addCompanyBillingDetails" [value]="true" id="invoiceTypeBusiness">
              <label class="custom-control-label radio-inline" for="invoiceTypeBusiness">{{' '}}{{'invoice.type.business' | translate}}</label>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row" *ngIf="invoiceBusiness">
      <div class="col-12">
          <div class="form-group">
              <label for="billingAddressCompany" class="control-label" translate="reservation-page-complete.company"></label>
              <input id="billingAddressCompany" formControlName="billingAddressCompany" class="form-control" type="text" [attr.maxlength]="255" appInvalidFeedback>
          </div>
      </div>
  </div>

  <div class="row">
      <div class="col-12">
          <div class="form-group">
              <label for="billingAddressLine1" class="control-label">{{'reservation-page.address-line-1' | translate}}{{' *'}}</label>
              <input id="billingAddressLine1" formControlName="billingAddressLine1" class="form-control" type="text" required [attr.maxlength]="255" appInvalidFeedback>
          </div>
      </div>
  </div>

  <div class="row">
      <div class="col-12">
          <div class="form-group">
              <label for="billingAddressLine2" class="control-label">{{'reservation-page.address-line-2' | translate}}</label>
              <input id="billingAddressLine2" formControlName="billingAddressLine2" class="form-control" type="text" [attr.maxlength]="255" appInvalidFeedback>
          </div>
      </div>
  </div>

  <div class="row">
      <div class="col-12 col-md-3">
          <div class="form-group">
              <label for="billingAddressZip" class="control-label">{{'reservation-page.zip-postal-code' | translate}}{{' *'}}</label>
              <input id="billingAddressZip" formControlName="billingAddressZip" class="form-control" type="text" required [attr.maxlength]="50" appInvalidFeedback>
          </div>
      </div>
      <div class="col-12 col-md-9">
          <div class="form-group">
              <label for="billingAddressCity" class="control-label">{{'reservation-page.city' | translate}}{{' *'}}</label>
              <input id="billingAddressCity" formControlName="billingAddressCity" class="form-control" type="text" required  [attr.maxlength]="255" appInvalidFeedback>
          </div>
      </div>
  </div>

  <div class="row">
      <div class="col-12" [ngClass]="{'col-md-6': customerReferenceEnabled && invoiceBusiness}">
          <div class="form-group">
              <label for="vatCountry" class="control-label">{{'reservation-page-complete.country' | translate}}{{' *'}}</label>
              <ng-select placeholder="{{'reservation-page.country.select'|translate}}" [items]="countries" bindLabel="name" bindValue="isoCode" formControlName="vatCountryCode" id="vatCountry" class="form-control field-required" [searchFn]="searchCountry" required appInvalidFeedback>
                  <ng-template ng-option-tmp let-item="item">{{item.isoCode}} - {{item.name}}</ng-template>
                  <ng-template ng-label-tmp let-item="item">{{item.isoCode}} - {{item.name}}</ng-template>
                  <ng-template ng-notfound-tmp let-searchTerm="searchTerm"></ng-template>
              </ng-select>
          </div>
      </div>

      <div *ngIf="customerReferenceEnabled && invoiceBusiness" class="col-12 col-md-6">
          <div class="form-group">
            <label for="customerReference" class="control-label" translate="common.customer-reference"></label>
            <input type="text" formControlName="customerReference" id="customerReference" class="form-control" [attr.maxlength]="50" appInvalidFeedback>
          </div>
      </div>
  </div>

  <div class="row" *ngIf="invoiceBusiness">
    <div [ngClass]="{'col-md-12': !vatNumberStrictlyRequired, 'col-md-6': vatNumberStrictlyRequired}">
        <div class="form-group">
            <label for="vatNr">{{'invoice.vat' |translate: {'0': ('common.vat' | translate)} }}</label>
            <div class="input-group">
                <div class="input-group-prepend" *ngIf="form.value.vatCountryCode"><span class="input-group-text">{{form.value.vatCountryCode}}</span></div>
                <input id="vatNr" type="text" formControlName="vatNr" class="form-control" appInvalidFeedback>
            </div>
        </div>
    </div>
    <div class="col-md-6" *ngIf="vatNumberStrictlyRequired">
        <div class="form-group">
            <div class="form-check checkbox-in-form-group">
                <input class="form-check-input" type="checkbox" formControlName="skipVatNr" [value]="true" id="skip-vat-nr" appInvalidFeedback>
                <label class="form-check-label radio-inline" for="skip-vat-nr">{{' '}}{{'reservation-page.skipVatNr' | translate: {'0': ('common.vat' | translate)} }}</label>
            </div>
        </div>
    </div>
  </div>



  <div class="row" id="italyEInvoicing" *ngIf="enabledItalyEInvoicing && form.value.vatCountryCode === 'IT'">
    <div class="col-md-12">
        <div class="form-group">
            <label for="italyEInvoicingFiscalCode" translate="invoice-fields.fiscalCode"></label>
            <input id="italyEInvoicingFiscalCode" type="text" formControlName="italyEInvoicingFiscalCode" class="form-control" appInvalidFeedback>
        </div>
    </div>
    <div class="col-md-12">
        <div class="form-group">
            <label for="" translate="invoice-fields.addresseeItalyEInvoice"></label>
        </div>
    </div>
    <div class="col-md-12">
        <div class="form-group">
            <label><input type="radio" value="ADDRESSEE_CODE" formControlName="italyEInvoicingReferenceType">{{' '}}<span class="label-after-radio" translate="invoice-fields.addressee-code"></span></label>
            <input type="text" [attr.maxlength]="7" class="form-control" formControlName="italyEInvoicingReferenceAddresseeCode" appInvalidFeedback>
        </div>
    </div>
    <div class="col-xs-12">
        <div class="form-group">
            <label><input type="radio" value="PEC"  formControlName="italyEInvoicingReferenceType">{{' '}}<span class="label-after-radio" translate="invoice-fields.pec"></span></label>
            <input type="email" class="form-control" formControlName="italyEInvoicingReferencePEC" appInvalidFeedback>
        </div>
    </div>
    <div class="col-xs-12">
        <div class="form-group">
            <label><input type="radio" value="NONE"  formControlName="italyEInvoicingReferenceType">{{' '}}<span class="label-after-radio" translate="invoice.fields.neither"></span></label>
        </div>
    </div>
  </div>


</div>